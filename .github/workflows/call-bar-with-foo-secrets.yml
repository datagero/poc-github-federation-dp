name: Call Bar with Foo Secrets

on:
    workflow_dispatch:
        inputs:
            environment:
                type: choice
                description: "Target environment"
                options:
                    - staging
                    - production
                default: staging

permissions:
    contents: read

jobs:
    call-bar:
        uses: poc-federated-patterns/bar/.github/workflows/reusable-deploy.yml@main
        with:
            environment: ${{ inputs.environment }}
        secrets:
            DEPLOY_TOKEN: ${{ secrets.FOO_DEPLOY_TOKEN }}
